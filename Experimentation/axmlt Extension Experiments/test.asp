roles(role0;role1;role2;role3;role4;role5;role6;role7;role8;role9;role10;role11;role12;role13;role14;role15;role16;role17;role18;role19;role20;role21;role22;role23;role24;role25;role26;role27;role28;role29;role30;role31;role32;role33;role34;role35;role36;role37;role38;role39;role40;role41;role42;role43;role44;role45;role46;role47;role48;role49).
subjects(subject0;subject1;subject2;subject3;subject4;subject5;subject6;subject7;subject8;subject9;subject10;subject11;subject12;subject13;subject14;subject15;subject16;subject17;subject18;subject19;subject20;subject21;subject22;subject23;subject24;subject25;subject26;subject27;subject28;subject29;subject30;subject31;subject32;subject33;subject34;subject35;subject36;subject37;subject38;subject39;subject40;subject41;subject42;subject43;subject44;subject45;subject46;subject47;subject48;subject49;subject50;subject51;subject52;subject53;subject54;subject55;subject56;subject57;subject58;subject59;subject60;subject61;subject62;subject63;subject64;subject65;subject66;subject67;subject68;subject69;subject70;subject71;subject72;subject73;subject74;subject75;subject76;subject77;subject78;subject79;subject80;subject81;subject82;subject83;subject84;subject85;subject86;subject87;subject88;subject89;subject90;subject91;subject92;subject93;subject94;subject95;subject96;subject97;subject98;subject99).
xpaths(doc2xpath0;doc2xpath1;doc2xpath2;doc3xpath0;doc3xpath1;doc3xpath2;doc3xpath3;doc3xpath4;doc0xpath0;doc0xpath1;doc0xpath2;doc0xpath3;doc1xpath0;doc1xpath1;doc1xpath2;doc1xpath3;doc1xpath4;doc4xpath0;doc4xpath1).
documents(doc0;doc1;doc2;doc3;doc4).
tempints(int0;int1;int2;int3;int4;int5;int6;int7;int8;int9;int10;int11;int12;int13;int14;int15;int16;int17;int18;int19;int20;int21;int22;int23;int24;int25;int26;int27;int28;int29;int30;int31;int32;int33;int34;int35;int36;int37;int38;int39).

role(role0,pp,doc1,doc1xpath4,write).
role(role0,pp,doc3,doc3xpath3,write).
role(role0,mm,doc3,doc3xpath0,write).
role(role0,mm,doc4,doc4xpath0,write).
role(role1,pp,doc1,doc1xpath0,write).
role(role1,mm,doc4,doc4xpath0,read).
role(role2,pp,doc0,doc0xpath1,read).
role(role2,pp,doc2,doc2xpath0,read).
role(role2,pp,doc3,doc3xpath1,write).
role(role2,mm,doc3,doc3xpath2,read).
role(role3,mm,doc2,doc2xpath2,read).
role(role3,pp,doc0,doc0xpath0,read).
role(role3,mm,doc3,doc3xpath2,write).
role(role3,mm,doc0,doc0xpath0,read).
role(role4,mm,doc3,doc3xpath2,write).
role(role4,pp,doc0,doc0xpath2,write).
role(role5,mm,doc1,doc1xpath4,write).
role(role6,pp,doc2,doc2xpath1,write).
role(role7,mm,doc3,doc3xpath2,read).
role(role7,pp,doc4,doc4xpath1,read).
role(role8,mm,doc3,doc3xpath4,read).
role(role8,pp,doc4,doc4xpath0,read).
role(role8,pp,doc1,doc1xpath3,read).
role(role8,pp,doc1,doc1xpath0,write).
role(role9,mm,doc0,doc0xpath2,write).
role(role9,mm,doc1,doc1xpath3,read).
role(role10,mm,doc4,doc4xpath1,read).
role(role10,pp,doc3,doc3xpath1,read).
role(role11,pp,doc1,doc1xpath3,write).
role(role11,pp,doc0,doc0xpath2,write).
role(role11,pp,doc4,doc4xpath1,write).
role(role11,pp,doc1,doc1xpath1,write).
role(role12,pp,doc4,doc4xpath0,read).
role(role12,pp,doc0,doc0xpath2,read).
role(role13,pp,doc3,doc3xpath2,write).
role(role13,pp,doc4,doc4xpath1,write).
role(role13,mm,doc3,doc3xpath4,write).
role(role13,pp,doc1,doc1xpath0,write).
role(role14,mm,doc3,doc3xpath2,read).
role(role14,pp,doc2,doc2xpath1,write).
role(role14,mm,doc3,doc3xpath1,write).
role(role14,mm,doc3,doc3xpath3,read).
role(role14,pp,doc3,doc3xpath0,write).
role(role15,pp,doc4,doc4xpath0,read).
role(role16,mm,doc3,doc3xpath2,read).
role(role16,pp,doc3,doc3xpath3,read).
role(role16,pp,doc1,doc1xpath2,read).
role(role16,mm,doc2,doc2xpath1,write).
role(role17,mm,doc2,doc2xpath2,write).
role(role17,mm,doc1,doc1xpath3,write).
role(role17,pp,doc4,doc4xpath1,write).
role(role17,pp,doc3,doc3xpath3,write).
role(role18,mm,doc4,doc4xpath0,read).
role(role18,pp,doc4,doc4xpath0,read).
role(role18,pp,doc4,doc4xpath1,write).
role(role19,mm,doc2,doc2xpath2,write).
role(role20,pp,doc2,doc2xpath2,read).
role(role20,mm,doc1,doc1xpath0,write).
role(role21,pp,doc1,doc1xpath1,read).
role(role22,pp,doc3,doc3xpath0,write).
role(role23,pp,doc0,doc0xpath3,read).
role(role23,mm,doc1,doc1xpath0,read).
role(role24,pp,doc0,doc0xpath1,read).
role(role25,pp,doc3,doc3xpath4,read).
role(role26,mm,doc2,doc2xpath0,write).
role(role27,mm,doc0,doc0xpath2,write).
role(role27,mm,doc0,doc0xpath3,write).
role(role28,mm,doc0,doc0xpath2,write).
role(role28,pp,doc2,doc2xpath2,read).
role(role28,pp,doc1,doc1xpath4,write).
role(role29,pp,doc3,doc3xpath1,read).
role(role30,mm,doc0,doc0xpath3,read).
role(role30,pp,doc1,doc1xpath1,read).
role(role30,mm,doc3,doc3xpath4,read).
role(role30,pp,doc1,doc1xpath1,read).
role(role30,pp,doc4,doc4xpath1,read).
role(role31,mm,doc4,doc4xpath1,read).
role(role31,pp,doc4,doc4xpath0,write).
role(role32,mm,doc0,doc0xpath3,write).
role(role32,pp,doc0,doc0xpath3,read).
role(role32,pp,doc1,doc1xpath1,read).
role(role33,mm,doc3,doc3xpath2,write).
role(role33,pp,doc2,doc2xpath1,read).
role(role34,mm,doc4,doc4xpath0,read).
role(role34,mm,doc3,doc3xpath0,write).
role(role34,pp,doc3,doc3xpath0,read).
role(role34,mm,doc4,doc4xpath0,read).
role(role34,pp,doc1,doc1xpath2,read).
role(role35,pp,doc4,doc4xpath0,write).
role(role35,pp,doc0,doc0xpath2,write).
role(role35,pp,doc2,doc2xpath1,write).
role(role35,mm,doc3,doc3xpath4,write).
role(role36,pp,doc2,doc2xpath1,read).
role(role36,pp,doc0,doc0xpath3,write).
role(role36,mm,doc4,doc4xpath1,write).
role(role36,pp,doc4,doc4xpath0,write).
role(role36,mm,doc0,doc0xpath2,write).
role(role37,pp,doc2,doc2xpath2,read).
role(role37,pp,doc0,doc0xpath3,read).
role(role37,pp,doc0,doc0xpath2,write).
role(role38,mm,doc3,doc3xpath1,write).
role(role38,pp,doc1,doc1xpath1,write).
role(role38,mm,doc3,doc3xpath4,write).
role(role38,mm,doc4,doc4xpath0,write).
role(role38,pp,doc3,doc3xpath0,write).
role(role39,mm,doc4,doc4xpath1,write).
role(role40,pp,doc0,doc0xpath2,read).
role(role40,pp,doc0,doc0xpath1,write).
role(role40,pp,doc2,doc2xpath1,write).
role(role41,mm,doc1,doc1xpath2,write).
role(role41,mm,doc4,doc4xpath0,read).
role(role41,pp,doc1,doc1xpath2,read).
role(role42,pp,doc4,doc4xpath0,read).
role(role42,mm,doc4,doc4xpath1,write).
role(role43,pp,doc4,doc4xpath1,read).
role(role43,pp,doc3,doc3xpath0,write).
role(role43,mm,doc0,doc0xpath3,write).
role(role43,pp,doc2,doc2xpath0,write).
role(role43,mm,doc0,doc0xpath3,read).
role(role44,mm,doc1,doc1xpath3,write).
role(role44,pp,doc3,doc3xpath1,read).
role(role44,pp,doc4,doc4xpath0,write).
role(role45,mm,doc1,doc1xpath1,read).
role(role45,mm,doc1,doc1xpath4,write).
role(role45,mm,doc3,doc3xpath1,read).
role(role45,mm,doc0,doc0xpath3,write).
role(role46,pp,doc2,doc2xpath0,write).
role(role46,pp,doc4,doc4xpath0,write).
role(role46,mm,doc2,doc2xpath2,read).
role(role47,mm,doc0,doc0xpath2,read).
role(role47,mm,doc2,doc2xpath0,read).
role(role47,pp,doc1,doc1xpath3,read).
role(role47,mm,doc4,doc4xpath1,write).
role(role48,pp,doc4,doc4xpath1,read).
role(role48,mm,doc4,doc4xpath1,read).
role(role49,pp,doc2,doc2xpath0,write).
role(role49,pp,doc0,doc0xpath3,read).
role(role49,mm,doc2,doc2xpath2,write).
role(role49,mm,doc0,doc0xpath2,read).
role(role49,pp,doc2,doc2xpath2,read).
during(int34,int5).
starts(int29,int17).
finishes(int34,int33).
before(int33,int17).
during(int19,int8).
during(int6,int14).
starts(int34,int1).
meets(int29,int32).
meets(int22,int5).
overlap(int28,int22).
before(int4,int6).
during(int13,int3).
equal(int13,int14).
starts(int33,int16).
starts(int14,int36).
meets(int39,int8).
starts(int31,int7).
finishes(int18,int12).
starts(int4,int3).
meets(int28,int30).
separate(role24,role23).
separate(role2,role21).
separate(role20,role27).
below(role1,role19).
below(role15,role6).
below(role27,role17).
separate(role47,role43).
separate(role35,role12).
separate(role34,role20).
separate(role10,role19).
below(role42,role34).
separate(role48,role45).
separate(role34,role39).
below(role22,role38).
separate(role16,role6).
below(role33,role26).
below(role39,role25).
below(role24,role15).
separate(role49,role39).
below(role44,role22).
below(role24,role14).
separate(role44,role13).
below(role2,role36).
below(role33,role12).
below(role17,role9).
separate(role49,role42).
below(role30,role19).
below(role16,role17).
separate(role12,role22).
separate(role20,role12).
separate(role34,role23).
below(role17,role49).
below(role37,role8).
below(role45,role15).
below(role9,role27).
below(role18,role36).
separate(role38,role36).
separate(role48,role24).
below(role48,role30).
below(role49,role38).
below(role11,role10).
below(role28,role4).
separate(role33,role28).
below(role43,role32).
below(role21,role30).
below(role31,role12).
separate(role3,role26).
separate(role27,role14).
separate(role24,role0).
below(role26,role45).
below(role40,role29).
below(role8,role46).
below(role13,role7).
below(role37,role8).
separate(role36,role45).
below(role25,role44).
separate(role36,role34).
separate(role32,role10).
below(role38,role6).
below(role4,role45).
below(role9,role47).
below(role2,role30).
below(role40,role47).
separate(role6,role30).
below(role5,role1).
separate(role17,role4).
below(role20,role6).
below(role16,role35).
separate(role27,role44).
separate(role27,role19).
below(role33,role39).
separate(role5,role34).
separate(role16,role29).
separate(role42,role17).
below(role12,role34).
separate(role0,role17).
below(role19,role25).
separate(role27,role33).
separate(role44,role41).
separate(role35,role17).
{grant(subject36,role27,int29), grant(subject66,role3,int29)}.
{grant(subject63,role44,int36), grant(subject43,role5,int28)}.
{grant(subject38,role38,int12), grant(subject6,role20,int3)}.
{grant(subject71,role14,int19), grant(subject31,role14,int25)}.
{grant(subject38,role24,int21), grant(subject31,role42,int4)}.
{grant(subject2,role42,int28), grant(subject21,role7,int30)}.
{grant(subject6,role25,int39), grant(subject78,role37,int16)}.
{grant(subject60,role46,int36), grant(subject76,role34,int5)}.
{grant(subject1,role2,int22), grant(subject71,role24,int22)}.
{grant(subject39,role31,int19), grant(subject56,role37,int19)}.
{grant(subject93,role41,int20), grant(subject65,role34,int28)}.
{grant(subject4,role41,int7), grant(subject21,role25,int30)}.
{grant(subject21,role33,int19), grant(subject67,role39,int23)}.
{grant(subject8,role41,int28), grant(subject9,role38,int1)}.
{grant(subject83,role45,int4), grant(subject3,role11,int31)}.
{grant(subject83,role9,int5), grant(subject39,role4,int18)}.
{grant(subject21,role47,int15), grant(subject46,role27,int32)}.
{grant(subject38,role14,int11), grant(subject52,role25,int39)}.
{grant(subject93,role11,int5), grant(subject70,role35,int9)}.
{grant(subject89,role6,int1), grant(subject27,role10,int23)}.
{grant(subject32,role39,int10), grant(subject99,role36,int8)}.
{grant(subject19,role42,int6), grant(subject77,role30,int30)}.
{grant(subject49,role34,int31), grant(subject28,role36,int29)}.
{grant(subject57,role40,int37), grant(subject27,role32,int7)}.
{grant(subject9,role47,int39), grant(subject61,role49,int33)}.
{grant(subject99,role40,int35), grant(subject6,role21,int24)}.
{grant(subject61,role14,int11), grant(subject98,role33,int32)}.
{grant(subject12,role12,int9), grant(subject9,role36,int37)}.
{grant(subject50,role34,int3), grant(subject0,role3,int10)}.
{grant(subject46,role41,int38), grant(subject40,role36,int32)}.
{grant(subject0,role1,int17), grant(subject42,role10,int34)}.
{grant(subject96,role22,int29), grant(subject81,role22,int0)}.
{grant(subject12,role6,int34), grant(subject91,role5,int0)}.
{grant(subject34,role33,int5), grant(subject64,role16,int22)}.
{grant(subject98,role6,int15), grant(subject92,role48,int38)}.
{grant(subject74,role25,int30), grant(subject24,role6,int38)}.
{grant(subject32,role20,int18), grant(subject95,role15,int3)}.
{grant(subject42,role22,int17), grant(subject5,role3,int36)}.
{grant(subject37,role12,int33), grant(subject93,role12,int8)}.
{grant(subject13,role27,int19), grant(subject99,role33,int22)}.
{grant(subject99,role23,int5), grant(subject45,role31,int6)}.
{grant(subject76,role48,int39), grant(subject11,role26,int15)}.
{grant(subject86,role28,int29), grant(subject90,role6,int2)}.
{grant(subject56,role34,int36), grant(subject98,role12,int14)}.
{grant(subject52,role27,int18), grant(subject58,role29,int28)}.
{grant(subject55,role12,int14), grant(subject78,role26,int28)}.
{grant(subject38,role8,int6), grant(subject88,role0,int4)}.
{grant(subject59,role33,int27), grant(subject0,role39,int30)}.
{grant(subject1,role28,int21), grant(subject64,role9,int21)}.
{grant(subject4,role45,int33), grant(subject28,role20,int14)}.
{grant(subject40,role23,int10), grant(subject47,role39,int20)}.
{grant(subject16,role3,int18), grant(subject87,role35,int29)}.
{grant(subject8,role13,int1), grant(subject18,role0,int38)}.
{grant(subject27,role39,int34), grant(subject15,role26,int12)}.
{grant(subject11,role15,int22), grant(subject21,role22,int28)}.
{grant(subject8,role7,int32), grant(subject58,role2,int15)}.
{grant(subject32,role32,int11), grant(subject71,role46,int37)}.
{grant(subject98,role13,int14), grant(subject94,role6,int14)}.
{grant(subject77,role13,int17), grant(subject30,role12,int38)}.
{grant(subject87,role6,int29), grant(subject4,role4,int28)}.
{grant(subject68,role32,int35), grant(subject80,role3,int27)}.
{grant(subject98,role18,int35), grant(subject58,role32,int20)}.
{grant(subject93,role45,int21), grant(subject93,role8,int8)}.
{grant(subject20,role40,int14), grant(subject60,role8,int0)}.
{grant(subject96,role32,int27), grant(subject88,role17,int39)}.
{grant(subject97,role10,int7), grant(subject37,role10,int23)}.
{grant(subject74,role0,int27), grant(subject91,role21,int11)}.
{grant(subject29,role4,int12), grant(subject32,role3,int8)}.
{grant(subject55,role21,int11), grant(subject38,role29,int26)}.
{grant(subject92,role11,int14), grant(subject65,role34,int37)}.
{grant(subject68,role7,int29), grant(subject61,role38,int0)}.
{grant(subject53,role31,int11), grant(subject16,role22,int5)}.
{grant(subject44,role34,int34), grant(subject63,role37,int0)}.
{grant(subject81,role34,int30), grant(subject92,role24,int17)}.
{grant(subject85,role8,int33), grant(subject73,role44,int27)}.
{grant(subject7,role18,int4), grant(subject17,role11,int33)}.
{grant(subject69,role9,int29), grant(subject61,role20,int16)}.
{grant(subject74,role38,int34), grant(subject84,role42,int5)}.
{grant(subject99,role25,int27), grant(subject65,role8,int30)}.
{grant(subject23,role24,int34), grant(subject44,role3,int22)}.
{grant(subject54,role16,int27), grant(subject34,role26,int8)}.
{grant(subject90,role19,int39), grant(subject92,role14,int18)}.
{grant(subject12,role23,int4), grant(subject19,role39,int31)}.
{grant(subject51,role46,int2), grant(subject63,role23,int27)}.
{grant(subject34,role16,int36), grant(subject16,role9,int34)}.
{grant(subject62,role47,int10), grant(subject53,role16,int23)}.
{grant(subject90,role21,int13), grant(subject31,role47,int19)}.
{grant(subject46,role18,int12), grant(subject14,role28,int3)}.
{grant(subject89,role21,int24), grant(subject8,role41,int24)}.
{grant(subject45,role10,int28), grant(subject78,role10,int21)}.
{grant(subject34,role34,int14), grant(subject37,role17,int14)}.
{grant(subject10,role41,int25), grant(subject88,role9,int4)}.
{grant(subject14,role0,int20), grant(subject0,role10,int6)}.
{grant(subject35,role36,int0), grant(subject74,role4,int11)}.
{grant(subject13,role11,int20), grant(subject79,role24,int14)}.
{grant(subject91,role9,int34), grant(subject39,role42,int35)}.
{grant(subject32,role7,int21), grant(subject52,role18,int4)}.
{grant(subject87,role47,int33), grant(subject21,role24,int0)}.
{grant(subject54,role21,int16), grant(subject72,role26,int20)}.
{grant(subject89,role43,int39), grant(subject65,role35,int9)}.
{grant(subject41,role13,int36), grant(subject63,role4,int13)}.
{grant(subject19,role33,int35), grant(subject66,role26,int10)}.
{grant(subject60,role33,int1), grant(subject66,role25,int22)}.
{grant(subject78,role46,int39), grant(subject19,role22,int18)}.
{grant(subject19,role39,int24), grant(subject98,role26,int6)}.
{grant(subject36,role44,int38), grant(subject16,role12,int35)}.
{grant(subject80,role27,int7), grant(subject6,role19,int28)}.
{grant(subject11,role10,int13), grant(subject19,role38,int19)}.
{grant(subject64,role26,int26), grant(subject21,role6,int20)}.
{grant(subject78,role32,int34), grant(subject66,role8,int37)}.
{grant(subject99,role37,int3), grant(subject57,role37,int12)}.
{grant(subject81,role17,int15), grant(subject16,role3,int16)}.
{grant(subject5,role44,int28), grant(subject95,role44,int4)}.
{grant(subject13,role2,int37), grant(subject25,role21,int25)}.
{grant(subject45,role19,int21), grant(subject49,role1,int14)}.
{grant(subject58,role1,int16), grant(subject28,role19,int20)}.
{grant(subject39,role46,int6), grant(subject41,role37,int38)}.
{grant(subject46,role7,int33), grant(subject87,role28,int28)}.
{grant(subject39,role28,int17), grant(subject75,role22,int7)}.
{grant(subject95,role29,int15), grant(subject22,role6,int33)}.
{grant(subject79,role12,int20), grant(subject90,role39,int15)}.
{grant(subject65,role47,int39), grant(subject32,role45,int0)}.
{grant(subject39,role4,int10), grant(subject29,role43,int27)}.
{grant(subject39,role0,int12), grant(subject30,role36,int31)}.
{grant(subject59,role10,int26), grant(subject90,role19,int22)}.
{grant(subject16,role3,int19), grant(subject81,role23,int15)}.
{grant(subject81,role30,int13), grant(subject28,role44,int18)}.
{grant(subject12,role44,int11), grant(subject76,role39,int26)}.
{grant(subject57,role4,int25), grant(subject54,role30,int10)}.
{grant(subject52,role14,int1), grant(subject36,role45,int25)}.
{grant(subject26,role16,int1), grant(subject27,role36,int28)}.
{grant(subject20,role35,int12), grant(subject75,role33,int16)}.
{grant(subject52,role20,int34), grant(subject8,role17,int24)}.
{grant(subject94,role20,int14), grant(subject20,role17,int21)}.
{grant(subject68,role22,int8), grant(subject34,role45,int25)}.
{grant(subject19,role14,int27), grant(subject93,role10,int6)}.
{grant(subject67,role6,int28), grant(subject47,role4,int19)}.
{grant(subject70,role30,int8), grant(subject58,role9,int28)}.
{grant(subject52,role41,int8), grant(subject91,role22,int22)}.
{grant(subject93,role43,int13), grant(subject17,role10,int15)}.
{grant(subject14,role15,int17), grant(subject38,role11,int9)}.
{grant(subject61,role16,int23), grant(subject0,role15,int20)}.
{grant(subject98,role2,int39), grant(subject92,role1,int18)}.
{grant(subject31,role15,int0), grant(subject39,role4,int20)}.
{grant(subject85,role41,int16), grant(subject55,role28,int34)}.
{grant(subject18,role1,int29), grant(subject14,role16,int23)}.
{grant(subject7,role3,int13), grant(subject53,role34,int19)}.
{grant(subject83,role49,int35), grant(subject75,role2,int34)}.
{grant(subject44,role12,int4), grant(subject57,role12,int36)}.
{grant(subject93,role29,int34), grant(subject50,role42,int26)}.
2{grant(subject65,role26,int7), grant(subject51,role32,int20), grant(subject1,role13,int32), grant(subject85,role8,int26)}2:-during(int27,int7),grant(subject98,role31,int27),not grant(subject76,role47,int17).
2{grant(subject54,role20,int35), grant(subject27,role3,int30), grant(subject37,role14,int32), grant(subject91,role40,int16)}2:-grant(subject29,role1,int31),not grant(subject72,role5,int24),not below(role5,role20).
2{grant(subject87,role40,int7), grant(subject10,role1,int10), grant(subject29,role7,int0), grant(subject63,role1,int38)}2:-during(int14,int7),separate(role42,role40),not separate(role3,role40),not grant(subject80,role3,int15).
2{grant(subject17,role2,int25), grant(subject1,role43,int38), grant(subject7,role12,int23), grant(subject64,role39,int27)}2:-equal(int2,int25),grant(subject35,role2,int2),not finishes(int6,int25),not equal(int6,int25).
2{grant(subject57,role43,int1), grant(subject17,role29,int34), grant(subject74,role42,int18), grant(subject84,role39,int24)}2:-overlap(int30,int1),grant(subject35,role27,int30).
2{grant(subject89,role16,int33), grant(subject6,role19,int16), grant(subject69,role35,int29), grant(subject88,role36,int33)}2:-equal(int39,int33),grant(subject26,role11,int39),not below(role0,role16).
2{grant(subject94,role22,int34), grant(subject95,role21,int4), grant(subject68,role17,int28), grant(subject73,role12,int32)}2:-below(role31,role22),separate(role31,role22),not separate(role8,role22),not grant(subject87,role8,int34).
2{grant(subject94,role44,int9), grant(subject37,role22,int38), grant(subject53,role5,int5), grant(subject76,role13,int5)}2:-during(int34,int9),grant(subject19,role24,int34),not finishes(int13,int9),not grant(subject27,role42,int13).
2{grant(subject57,role9,int31), grant(subject93,role19,int21), grant(subject38,role36,int5), grant(subject7,role43,int19)}2:-during(int28,int31),below(role31,role9),not separate(role36,role9),not below(role36,role9).
2{grant(subject31,role42,int11), grant(subject98,role32,int24), grant(subject5,role20,int22), grant(subject30,role48,int32)}2:-meets(int35,int11),not grant(subject75,role35,int10),not separate(role35,role42).
2{grant(subject60,role21,int9), grant(subject19,role18,int5), grant(subject98,role40,int16), grant(subject5,role11,int11)}2:-separate(role4,role21),not grant(subject73,role6,int17),not overlap(int17,int9).
2{grant(subject5,role18,int38), grant(subject44,role32,int26), grant(subject46,role18,int5), grant(subject39,role9,int30)}2:-equal(int33,int38),grant(subject93,role6,int33),not grant(subject75,role29,int20),not separate(role29,role18).
2{grant(subject9,role39,int20), grant(subject42,role39,int13), grant(subject54,role42,int16), grant(subject18,role16,int26)}2:-grant(subject60,role11,int36),separate(role11,role39),not before(int27,int20),not below(role16,role39).
2{grant(subject24,role1,int16), grant(subject55,role14,int39), grant(subject61,role20,int22), grant(subject58,role43,int15)}2:-during(int29,int16),separate(role31,role1),not grant(subject6,role39,int35),not separate(role39,role1).
2{grant(subject90,role9,int4), grant(subject73,role8,int4), grant(subject54,role11,int11), grant(subject93,role16,int18)}2:-separate(role42,role9),below(role42,role9),not separate(role48,role9),not starts(int21,int4).
2{grant(subject54,role9,int10), grant(subject48,role21,int21), grant(subject10,role0,int10), grant(subject42,role36,int20)}2:-meets(int17,int10),separate(role49,role9),not grant(subject24,role22,int3),not separate(role22,role9).
2{grant(subject10,role11,int38), grant(subject85,role25,int20), grant(subject34,role6,int18), grant(subject16,role41,int19)}2:-meets(int17,int38),grant(subject93,role26,int17),not separate(role33,role11),not overlap(int8,int38).
2{grant(subject17,role38,int8), grant(subject81,role24,int32), grant(subject14,role37,int36), grant(subject51,role31,int18)}2:-separate(role0,role38),not finishes(int6,int8),not before(int6,int8).
2{grant(subject44,role35,int21), grant(subject97,role42,int34), grant(subject89,role21,int25), grant(subject47,role47,int38)}2:-below(role33,role35),grant(subject13,role33,int24),not grant(subject65,role8,int18).
2{grant(subject10,role16,int28), grant(subject66,role16,int35), grant(subject67,role4,int34), grant(subject85,role25,int38)}2:-grant(subject35,role47,int15),not grant(subject2,role17,int10),not separate(role17,role16).
2{grant(subject66,role39,int21), grant(subject16,role2,int4), grant(subject82,role26,int3), grant(subject72,role23,int17)}2:-below(role13,role39),meets(int17,int21),not grant(subject28,role38,int15).
2{grant(subject46,role29,int19), grant(subject38,role24,int16), grant(subject19,role24,int27), grant(subject36,role49,int0)}2:-grant(subject21,role6,int19),not overlap(int4,int19),not separate(role42,role29).
2{grant(subject33,role9,int19), grant(subject10,role40,int9), grant(subject20,role1,int24), grant(subject46,role1,int14)}2:-meets(int30,int19),separate(role30,role9),not meets(int17,int19),not separate(role18,role9).
2{grant(subject62,role29,int3), grant(subject53,role0,int2), grant(subject95,role1,int27), grant(subject44,role1,int22)}2:-separate(role3,role29),starts(int5,int3),not grant(subject47,role29,int36).
2{grant(subject12,role14,int35), grant(subject88,role25,int33), grant(subject48,role17,int5), grant(subject15,role8,int7)}2:-overlap(int0,int35),finishes(int0,int35),not meets(int10,int35),not below(role48,role14).
2{grant(subject53,role7,int37), grant(subject72,role42,int16), grant(subject0,role39,int13), grant(subject93,role26,int18)}2:-grant(subject43,role39,int22),separate(role39,role7),not before(int6,int37).
2{grant(subject37,role42,int19), grant(subject62,role34,int37), grant(subject48,role31,int35), grant(subject92,role34,int0)}2:-below(role22,role42),grant(subject7,role22,int24),not separate(role38,role42).
2{grant(subject16,role15,int25), grant(subject71,role23,int26), grant(subject58,role28,int35), grant(subject97,role15,int27)}2:-before(int10,int25),separate(role17,role15),not separate(role17,role15),not finishes(int12,int25).
2{grant(subject77,role4,int23), grant(subject17,role28,int22), grant(subject78,role34,int18), grant(subject88,role27,int27)}2:-meets(int5,int23),before(int5,int23),not overlap(int22,int23),not equal(int22,int23).
2{grant(subject63,role27,int34), grant(subject78,role19,int13), grant(subject33,role24,int31), grant(subject33,role11,int20)}2:-grant(subject47,role37,int16),not grant(subject54,role41,int8),not before(int8,int34).
2{grant(subject68,role2,int0), grant(subject94,role10,int35), grant(subject33,role43,int34), grant(subject43,role45,int15)}2:-grant(subject73,role23,int5),not separate(role39,role2).
2{grant(subject18,role14,int5), grant(subject85,role37,int6), grant(subject43,role42,int26), grant(subject91,role3,int33)}2:-grant(subject33,role11,int39),during(int39,int5),not below(role1,role14),not separate(role1,role14).
2{grant(subject68,role4,int25), grant(subject42,role35,int30), grant(subject82,role24,int20), grant(subject66,role18,int28)}2:-grant(subject4,role41,int9),not during(int1,int25),not starts(int1,int25).
2{grant(subject77,role47,int10), grant(subject14,role0,int25), grant(subject81,role44,int31), grant(subject26,role19,int7)}2:-below(role46,role47),finishes(int35,int10),not grant(subject77,role46,int1),not separate(role46,role47).
2{grant(subject29,role2,int27), grant(subject13,role9,int37), grant(subject23,role3,int37), grant(subject56,role13,int31)}2:-grant(subject48,role20,int3),not before(int21,int27),not separate(role0,role2).
2{grant(subject22,role6,int30), grant(subject62,role14,int2), grant(subject45,role18,int34), grant(subject87,role5,int22)}2:-grant(subject71,role6,int31),not grant(subject88,role40,int18).
2{grant(subject94,role3,int14), grant(subject82,role14,int10), grant(subject92,role21,int20), grant(subject8,role12,int37)}2:-overlap(int25,int14),separate(role19,role3),not meets(int12,int14).
2{grant(subject87,role12,int23), grant(subject84,role46,int1), grant(subject27,role44,int32), grant(subject48,role37,int28)}2:-grant(subject70,role49,int20),separate(role49,role12),not separate(role7,role12),not overlap(int8,int23).
2{grant(subject92,role22,int24), grant(subject13,role29,int29), grant(subject15,role17,int7), grant(subject80,role49,int29)}2:-separate(role41,role22),meets(int21,int24),not grant(subject0,role30,int28),not starts(int28,int24).
2{grant(subject18,role19,int23), grant(subject2,role19,int38), grant(subject22,role35,int14), grant(subject51,role23,int5)}2:-finishes(int8,int23),below(role28,role19),not separate(role39,role19),not finishes(int24,int23).
grant(subject33,role29,I):-grant(subject82,role28,I),not grant(subject35,role48,I), tempints(I).
grant(subject69,role44,I):-grant(subject66,role20,I),not grant(subject18,role49,I), tempints(I).
grant(subject82,role35,I):-grant(subject87,role11,I),not separate(role24,role35),not grant(subject68,role24,I), tempints(I).
grant(subject1,R,int35):-grant(subject82,R,int26),not grant(subject61,R,int9),not finishes(int9,int35), roles(R).
grant(S,role23,int21):-grant(S,role49,int6),before(int6,int21), subjects(S).
grant(S,role9,int10):-separate(role13,role9),not starts(int39,int10),not separate(role45,role9), subjects(S).
grant(S,role17,int30):-below(role0,role17),separate(role0,role17),not separate(role23,role17),not below(role23,role17), subjects(S).
grant(subject11,R,int15):-not equal(int12,int15), roles(R).
grant(subject67,R,int23):-before(int20,int23),grant(subject44,R,int20),not grant(subject21,R,int34),not finishes(int34,int23), roles(R).
grant(S,role28,int4):-during(int3,int4),separate(role47,role28),not starts(int34,int4),not overlap(int34,int4), subjects(S).
grant(subject31,role3,I):-separate(role32,role3),not below(role21,role3),not separate(role21,role3), tempints(I).
grant(subject56,R,int34):-not grant(subject97,R,int8), roles(R).
grant(subject4,R,int31):-finishes(int27,int31),grant(subject28,R,int27),not grant(subject82,R,int26),not finishes(int26,int31), roles(R).
grant(subject35,role25,I):-grant(subject41,role48,I),below(role48,role25),not separate(role13,role25), tempints(I).
grant(subject18,role26,I):-separate(role25,role26),not grant(subject65,role23,I), tempints(I).
grant(subject23,role45,I):-separate(role43,role45),below(role43,role45), tempints(I).
grant(subject0,R,int36):-grant(subject64,R,int39),not during(int35,int36),not grant(subject13,R,int35), roles(R).
grant(subject26,R,int2):-finishes(int14,int2),not equal(int7,int2),not during(int7,int2), roles(R).
grant(S,role28,int2):-grant(S,role3,int14),not grant(S,role6,int13), subjects(S).
grant(subject70,role40,I):-not grant(subject56,role34,I), tempints(I).
grant(subject78,role19,I):-separate(role27,role19),not separate(role5,role19), tempints(I).
grant(subject38,role9,I):-grant(subject17,role2,I),not grant(subject64,role7,I),not separate(role7,role9), tempints(I).
grant(subject6,role32,I):-separate(role27,role32),below(role27,role32),not grant(subject68,role44,I), tempints(I).
grant(subject69,R,int11):-grant(subject58,R,int12),not grant(subject68,R,int39), roles(R).
grant(subject61,role2,I):-grant(subject27,role32,I),not separate(role47,role2), tempints(I).
grant(subject99,role0,I):-grant(subject52,role38,I),not separate(role16,role0), tempints(I).
grant(S,role15,int27):-finishes(int31,int27),not before(int20,int27),not below(role7,role15), subjects(S).
grant(subject53,R,int7):-grant(subject97,R,int15),not grant(subject43,R,int13), roles(R).
grant(subject5,R,int9):-grant(subject95,R,int27),overlap(int27,int9),not grant(subject40,R,int19), roles(R).
grant(S,role10,int30):-equal(int14,int30),separate(role1,role10),not below(role41,role10),not grant(S,role41,int29), subjects(S).
grant(subject98,role19,I):-below(role32,role19),grant(subject53,role32,I), tempints(I).
grant(S,role44,int38):-separate(role47,role44),grant(S,role47,int35),not starts(int1,int38),not equal(int1,int38), subjects(S).
grant(subject45,role8,I):-grant(subject25,role0,I),not separate(role16,role8), tempints(I).
grant(S,role24,int24):-grant(S,role6,int39),not equal(int32,int24),not meets(int32,int24), subjects(S).
grant(subject37,R,int28):-starts(int16,int28),not grant(subject57,R,int23), roles(R).
grant(subject14,R,int20):-grant(subject1,R,int38),not finishes(int21,int20),not before(int21,int20), roles(R).
grant(subject97,R,int30):-grant(subject96,R,int21),not during(int10,int30), roles(R).
grant(subject53,role7,I):-separate(role40,role7),grant(subject86,role40,I),not grant(subject98,role29,I), tempints(I).
grant(subject3,role45,I):-grant(subject48,role33,I),below(role33,role45), tempints(I).
grant(subject77,role20,I):-separate(role12,role20),not separate(role43,role20),not grant(subject32,role43,I), tempints(I).

%-----------------------------------------------------------------------------------------------------------------------
%CONSTANTS
%-----------------------------------------------------------------------------------------------------------------------

signs(pp; mm).
privs(read; write).

%-----------------------------------------------------------------------------------------------------------------------
%LANGUAGE RULES
%-----------------------------------------------------------------------------------------------------------------------

%RBAC RELATIONSHIPS

%role hierarchy implication
below(A,C) :- below(A,B), below(B,C), roles(A), roles(B), roles(C).
:- below(A, B), not roles(A), not roles(B).

brole(X, SIGNY, DOCUMENTY, XPATHY, PRIVILEGEY) :- below(X, Y), roles(X), roles(Y), role(X, SIGNX, DOCUMENTX, XPATHX, PRIVILEGEX), role(Y, SIGNY, DOCUMENTY, XPATHY, PRIVILEGEY), signs(SIGNX), signs(SIGNY), privs(PRIVILEGEX), privs(PRIVILEGEY), documents(DOCUMENTX), documents(DOCUMENTY), xpaths(XPATHX), xpaths(XPATHY).

%conflict resolution rule
exist_neg(SUBJECT, DOCUMENT, XPATH, PRIVILEGE, INTERVAL) :- grant(SUBJECT, ROLENAME, INTERVAL), role(ROLENAME, mm, DOCUMENT, XPATH, PRIVILEGE), privs(PRIVILEGE), tempints(INTERVAL).

%separation of duty relationship
separate(X, Y) :- separate(Y, X), roles(X), roles(Y).

%separation of duty rule
sepduty_fail(SUBJECT) :- grant(SUBJECT, ROLEX, INTERVALA), grant(SUBJECT, ROLEY, INTERVALB), tempints(INTERVALA), tempints(INTERVALB), roles(ROLEX), roles(ROLEY), separate(ROLEX, ROLEY).

%nonexistent role granting
:- grant(SUBJECT, ROLE, INTERVAL), not roles(ROLE).

%-----------------------------------------------------------------------------------------------------------------------

%THE AUTHORISATION RULE

%authorisation of subjects with roles with conflict resolution and separation of duty
auth(SUBJECT, DOCUMENT, XPATH, PRIVILEGE, INTERVAL) :- grant(SUBJECT, ROLE, INTERVAL), subjects(SUBJECT), role(ROLE, SIGN, DOCUMENT, XPATH, PRIVILEGE), privs(PRIVILEGE), signs(SIGN), not exist_neg(SUBJECT, DOCUMENT, XPATH, PRIVILEGE, INTERVAL), not sepduty_fail(SUBJECT).

auth(SUBJECT, DOCUMENT, XPATH, PRIVILEGE, INTERVAL) :- grant(SUBJECT, ROLE, INTERVAL), subjects(SUBJECT), brole(ROLE, SIGN, DOCUMENT, XPATH, PRIVILEGE), privs(PRIVILEGE), signs(SIGN), not exist_neg(SUBJECT, DOCUMENT, XPATH, PRIVILEGE, INTERVAL), not sepduty_fail(SUBJECT).


%-----------------------------------------------------------------------------------------------------------------------

%TEMPORAL INTERVAL RELATIONSHIPS AND IMPLICATIONS

%temporal interval containment rule
grant(SUBJECT, ROLE, INTERVALB) :- grant(SUBJECT, ROLE, INTERVALA), during(INTERVALB, INTERVALA), roles(ROLE), tempints(INTERVALA), tempints(INTERVALB), subjects(SUBJECT).

%implicit relationships (for containment)
during(A, B) :- starts(A, B), tempints(A), tempints(B).
during(A, B) :- finishes(A, B), tempints(A), tempints(B).
before(A, B) :- meets(A, B), tempints(A), tempints(B).

before(A, C) :- before(A, B), before(B, C), tempints(A), tempints(B), tempints(C).
during(A, C) :- during(A, B), during(B, C), tempints(A), tempints(B), tempints(C).
starts(A, C) :- starts(A, B), starts(B, C), tempints(A), tempints(B), tempints(C).
finishes(A, C) :- finishes(A, B), finishes(B, C), tempints(A), tempints(B), tempints(C).
equal(A, C) :- equal(A, B), equal(B, C), tempints(A), tempints(B), tempints(C).

%classically negated rules
-before(A, B) :- during(A, B), tempints(A), tempints(B).
-overlap(A, B) :- during(A, B), tempints(A), tempints(B).
-meets(A, B) :- during(A, B), tempints(A), tempints(B).
-equal(A, B) :- during(A, B), tempints(A), tempints(B).

-during(A, B) :- before(A, B), tempints(A), tempints(B).
-during(A, B) :- overlap(A, B), tempints(A), tempints(B).
-during(A, B) :- meets(A, B), tempints(A), tempints(B).
-during(A, B) :- equal(A, B), tempints(A), tempints(B).

-before(A, B) :- overlap(A, B), tempints(A), tempints(B).
-meets(A, B) :- overlap(A, B), tempints(A), tempints(B).
-equal(A, B) :- overlap(A, B), tempints(A), tempints(B).

-overlap(A, B) :- before(A, B), tempints(A), tempints(B).
-equal(A, B) :- before(A, B), tempints(A), tempints(B).

-equal(A, B) :- meets(A, B), tempints(A), tempints(B).
-overlap(A, B) :- meets(A, B), tempints(A), tempints(B).

-before(A, B) :- equal(A, B), tempints(A), tempints(B).
-overlap(A, B) :- equal(A, B), tempints(A), tempints(B).
-meets(A, B) :- equal(A, B), tempints(A), tempints(B).

:- -during(A, B), during(A, B), tempints(A), tempints(B).
:- -before(A, B), before(A, B), tempints(A), tempints(B).
:- -overlap(A, B), overlap(A, B), tempints(A), tempints(B).
:- -meets(A, B), meets(A, B), tempints(A), tempints(B).
:- -equal(A, B), equal(A, B), tempints(A), tempints(B).

%bounded temporal interval rule
during(D, A) :- starts(B, A), finishes(C, A), before(B, D), before(D, C), tempints(A), tempints(B), tempints(C), tempints(D).

%equality rules
during(C, B) :- equal(A, B), during(C, A), tempints(A), tempints(B), tempints(C).
starts(C, B) :- equal(A, B), starts(C, A), tempints(A), tempints(B), tempints(C).
finishes(C, B) :- equal(A, B), finishes(C, A), tempints(A), tempints(B), tempints(C).
before(C, B) :- equal(A, B), before(C, A), tempints(A), tempints(B), tempints(C).
overlap(C, B) :- equal(A, B), overlap(C, A), tempints(A), tempints(B), tempints(C).
meets(C, B) :- equal(A, B), meets(C, A), tempints(A), tempints(B), tempints(C).


%-----------------------------------------------------------------------------------------------------------------------

